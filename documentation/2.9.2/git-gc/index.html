<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <link rel="shortcut icon" type="image/png" href="favicon.ico">
    
    <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/style.css">
    
        <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/carbonv.css">
    
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/animate.min.css">
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/ionicons.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Varela+Round&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    
    <script src="https://www.gitdvcs.com/js/jquery-2.1.0.min.js"></script>
    <script src="https://www.gitdvcs.com/js/bootstrap.min.js"></script>
    <script src="https://www.gitdvcs.com/js/blocs.min.js"></script>
    <title> git-gc </title>
</head>
<body>


<div class="page-container">


<div class="bloc sticky-nav bg-what-is-git bgc-white l-bloc" id="navigation-bar">
	<div class="container bloc-sm">
	<a href="https://github.com/dvcs/gitdvcs.com" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#42A5E8; color:#FFFFFF; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

		<nav class="navbar row">
			<div class="navbar-header">
				<a class="navbar-brand" href="https://www.gitdvcs.com/"><img src="https://www.gitdvcs.com/img/git.svg" alt="logo" /></a>
				<button id="nav-toggle" type="button" class="ui-navbar-toggle navbar-toggle" data-toggle="collapse" data-target=".navbar-1">
					<span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
				</button>
			</div>
			<div class="collapse navbar-collapse navbar-1">
					<ul class="site-navigation nav navbar-nav navigation-links">
						<li>
							<a href="https://www.gitdvcs.com/documentation/">Documentation</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/how-to/">How To</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/downloads/">Downloads</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/resources/">Resources</a>
						</li>
					</ul>
			</div>
		</nav>
	</div>
</div>





<div class="bloc l-bloc bgc-white " id="bloc-1">
	<div class="container bloc-lg">
		<div class="row">
			<div class="col-sm-10">
				<h1 id="title">git-gc</h1>
				<section>
	<div class="bread-container shadow">
		
		
		<ol class="breadcrumb">
			<li><a href="https://www.gitdvcs.com/">home</a></li>
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation'>documentation</a></li>
			
			
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation/2.9.2'>2.9.2</a></li>
			
			
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation/2.9.2/git-gc'>git-gc</a></li>
			
			
			
			
			
			
		</ol>
	</div>
</section>

				

<!-- Do not manually edit - This file is generated with bootstrap.sh -->

<h2 id="synopsis">SYNOPSIS</h2>

<pre><code class="language-content">git gc [--aggressive] [--auto] [--quiet] [--prune=&lt;date&gt; | --no-prune] [--force]
</code></pre>

<h2 id="description">DESCRIPTION</h2>

<p>Runs a number of housekeeping tasks within the current repository, such as compressing file revisions (to reduce disk space and increase performance) and removing unreachable objects which may have been created from prior invocations of <em>git add</em>.</p>

<p>Users are encouraged to run this task on a regular basis within each repository to maintain good disk space utilization and good operating performance.</p>

<p>Some git commands may automatically run <em>git gc</em>; see the <code>--auto</code> flag below for details. If you know what you’re doing and all you want is to disable this behavior permanently without further considerations, just do:</p>

<pre><code>$ git config --global gc.auto 0
</code></pre>

<h2 id="options">OPTIONS</h2>

<p>&ndash;aggressive<br />
Usually <em>git gc</em> runs very quickly while providing good disk space utilization and performance. This option will cause <em>git gc</em> to more aggressively optimize the repository at the expense of taking much more time. The effects of this optimization are persistent, so this option only needs to be used occasionally; every few hundred changesets or so.</p>

<p>&ndash;auto<br />
With this option, <em>git gc</em> checks whether any housekeeping is required; if not, it exits without performing any work. Some git commands run <code>git gc --auto</code> after performing operations that could create many loose objects.</p>

<p>Housekeeping is required if there are too many loose objects or too many packs in the repository. If the number of loose objects exceeds the value of the <code>gc.auto</code> configuration variable, then all loose objects are combined into a single pack using <code>git repack -d -l</code>. Setting the value of <code>gc.auto</code> to 0 disables automatic packing of loose objects.</p>

<p>If the number of packs exceeds the value of <code>gc.autoPackLimit</code>, then existing packs (except those marked with a <code>.keep</code> file) are consolidated into a single pack by using the <code>-A</code> option of <em>git repack</em>. Setting <code>gc.autoPackLimit</code> to 0 disables automatic consolidation of packs.</p>

<p>&ndash;prune=&lt;date&gt;<br />
Prune loose objects older than date (default is 2 weeks ago, overridable by the config variable <code>gc.pruneExpire</code>). &ndash;prune=all prunes loose objects regardless of their age (do not use &ndash;prune=all unless you know exactly what you are doing. Unless the repository is quiescent, you will lose newly created objects that haven’t been anchored with the refs and end up corrupting your repository). &ndash;prune is on by default.</p>

<p>&ndash;no-prune<br />
Do not prune any loose objects.</p>

<p>&ndash;quiet<br />
Suppress all progress reports.</p>

<p>&ndash;force<br />
Force <code>git gc</code> to run even if there may be another <code>git gc</code> instance running on this repository.</p>

<h2 id="configuration">Configuration</h2>

<p>The optional configuration variable <code>gc.reflogExpire</code> can be set to indicate how long historical entries within each branch’s reflog should remain available in this repository. The setting is expressed as a length of time, for example <em>90 days</em> or <em>3 months</em>. It defaults to <em>90 days</em>.</p>

<p>The optional configuration variable <code>gc.reflogExpireUnreachable</code> can be set to indicate how long historical reflog entries which are not part of the current branch should remain available in this repository. These types of entries are generally created as a result of using <code>git commit               --amend</code> or <code>git rebase</code> and are the commits prior to the amend or rebase occurring. Since these changes are not part of the current project most users will want to expire them sooner. This option defaults to <em>30 days</em>.</p>

<p>The above two configuration variables can be given to a pattern. For example, this sets non-default expiry values only to remote-tracking branches:</p>

<pre><code>[gc &quot;refs/remotes/*&quot;]
        reflogExpire = never
        reflogExpireUnreachable = 3 days
</code></pre>

<p>The optional configuration variable <code>gc.rerereResolved</code> indicates how long records of conflicted merge you resolved earlier are kept. This defaults to 60 days.</p>

<p>The optional configuration variable <code>gc.rerereUnresolved</code> indicates how long records of conflicted merge you have not resolved are kept. This defaults to 15 days.</p>

<p>The optional configuration variable <code>gc.packRefs</code> determines if <em>git gc</em> runs <em>git pack-refs</em>. This can be set to &ldquo;notbare&rdquo; to enable it within all non-bare repos or it can be set to a boolean value. This defaults to true.</p>

<p>The optional configuration variable ‘gc.aggressiveWindow` controls how much time is spent optimizing the delta compression of the objects in the repository when the &ndash;aggressive option is specified. The larger the value, the more time is spent optimizing the delta compression. See the documentation for the &ndash;window’ option in <a href="../git-repack">git-repack(1)</a> for more details. This defaults to 250.</p>

<p>Similarly, the optional configuration variable <code>gc.aggressiveDepth</code> controls &ndash;depth option in <a href="../git-repack">git-repack(1)</a>. This defaults to 250.</p>

<p>The optional configuration variable <code>gc.pruneExpire</code> controls how old the unreferenced loose objects have to be before they are pruned. The default is &ldquo;2 weeks ago&rdquo;.</p>

<h2 id="notes">Notes</h2>

<p><em>git gc</em> tries very hard to be safe about the garbage it collects. In particular, it will keep not only objects referenced by your current set of branches and tags, but also objects referenced by the index, remote-tracking branches, refs saved by <em>git filter-branch</em> in refs/original/, or reflogs (which may reference commits in branches that were later amended or rewound).</p>

<p>If you are expecting some objects to be collected and they aren’t, check all of those locations and decide whether it makes sense in your case to remove those references.</p>

<h2 id="hooks">HOOKS</h2>

<p>The <em>git gc &ndash;auto</em> command will run the <em>pre-auto-gc</em> hook. See <a href="../githooks">githooks(5)</a> for more information.</p>

<h2 id="see-also">SEE ALSO</h2>

<p><a href="../git-prune">git-prune(1)</a> <a href="../git-reflog">git-reflog(1)</a> <a href="../git-repack">git-repack(1)</a> <a href="../git-rerere">git-rerere(1)</a></p>

<h2 id="git">GIT</h2>

<p>Part of the <a href="../git">git(1)</a> suite</p>

			</div>
			<div class="col-sm-2">
				
<center>
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=gitdvcscom" id="_carbonads_js"></script>
</center>


			</div>
		</div>
	</div>
</div>



<a class="bloc-button btn btn-d scrollToTop" onclick="scrollToTarget('1')"><span class="fa fa-chevron-up"></span></a>




<div class="bloc navigation-linksnavigation-links git-background-night bgc-medium-jungle-green d-bloc" id="footer">
	<div class="container bloc-md">
		<div class="row">
			<div class="col-sm-3">
				<h4 class="mg-md">
					Git
				</h4><a href="https://www.gitdvcs.com/documentation/" class="a-btn a-block bloc-mob-center-text">Documentation</a><a href="https://www.gitdvcs.com/how-to/" class="a-btn a-block bloc-mob-center-text">How To</a><a href="https://www.gitdvcs.com/downloads/" class="a-btn a-block bloc-mob-center-text">Downloads</a><a href="https://www.gitdvcs.com/resources/" class="a-btn a-block bloc-mob-center-text">Resources</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					Resources <br>
				</h4><a href="https://www.gitdvcs.com/resources/links/" class="a-btn a-block bloc-mob-center-text">Links</a><a href="https://www.gitdvcs.com/resources/logo/" class="a-btn a-block bloc-mob-center-text">Logo</a><a href="https://www.gitdvcs.com/resources/videos/" class="a-btn a-block bloc-mob-center-text">Videos</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					DVCS<br>
				</h4><a href="https://github.com/dvcs" class="a-btn a-block bloc-mob-center-text">GitHub</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					About<br>
				</h4><a href="https://www.gitdvcs.com/about/#support" class="a-btn a-block bloc-mob-center-text">Support DVCS</a>
			</div>
		</div>
	</div>
</div>



<div class="bloc git-background-night bgc-medium-jungle-green" id="copyright">
	<div class="container bloc-sm">
		<div class="row">
			<div class="col-sm-12 text-center">
				<a href="https://www.gitdvcs.com"><img src="https://www.gitdvcs.com/img/git-logo-white.svg" class="img-responsive center-block mg-md" height="38" width="38" /></a>
				<p class="text-center mg-lg">
					<a href="https://github.com/dvcs">2017 DVCS</a><br>
				</p>
			</div>
		</div>
	</div>
</div>


</div>



</body>
</html>
