<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0">
    <link rel="shortcut icon" type="image/png" href="favicon.ico">
    
    <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/style.css">
    
        <link rel="stylesheet" type="text/css" href="https://www.gitdvcs.com/carbonv.css">
    
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/animate.min.css">
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.gitdvcs.com/css/ionicons.min.css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Varela+Round&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    
    <script src="https://www.gitdvcs.com/js/jquery-2.1.0.min.js"></script>
    <script src="https://www.gitdvcs.com/js/bootstrap.min.js"></script>
    <script src="https://www.gitdvcs.com/js/blocs.min.js"></script>
    <title> git-rerere </title>
</head>
<body>


<div class="page-container">


<div class="bloc sticky-nav bg-what-is-git bgc-white l-bloc" id="navigation-bar">
	<div class="container bloc-sm">
	<a href="https://github.com/dvcs/gitdvcs.com" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#42A5E8; color:#FFFFFF; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

		<nav class="navbar row">
			<div class="navbar-header">
				<a class="navbar-brand" href="https://www.gitdvcs.com/"><img src="https://www.gitdvcs.com/img/git.svg" alt="logo" /></a>
				<button id="nav-toggle" type="button" class="ui-navbar-toggle navbar-toggle" data-toggle="collapse" data-target=".navbar-1">
					<span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
				</button>
			</div>
			<div class="collapse navbar-collapse navbar-1">
					<ul class="site-navigation nav navbar-nav navigation-links">
						<li>
							<a href="https://www.gitdvcs.com/documentation/">Documentation</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/how-to/">How To</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/downloads/">Downloads</a>
						</li>
						<li>
							<a href="https://www.gitdvcs.com/resources/">Resources</a>
						</li>
					</ul>
			</div>
		</nav>
	</div>
</div>





<div class="bloc l-bloc bgc-white " id="bloc-1">
	<div class="container bloc-lg">
		<div class="row">
			<div class="col-sm-10">
				<h1 id="title">git-rerere</h1>
				<section>
	<div class="bread-container shadow">
		
		
		<ol class="breadcrumb">
			<li><a href="https://www.gitdvcs.com/">home</a></li>
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation'>documentation</a></li>
			
			
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation/2.8.6'>2.8.6</a></li>
			
			
			
			
			
			<li><a href='https://www.gitdvcs.com/documentation/2.8.6/git-rerere'>git-rerere</a></li>
			
			
			
			
			
			
		</ol>
	</div>
</section>

				

<!-- Do not manually edit - This file is generated with bootstrap.sh -->

<h2 id="synopsis">SYNOPSIS</h2>

<pre><code class="language-content">git rerere [clear|forget &lt;pathspec&gt;|diff|remaining|status|gc]
</code></pre>

<h2 id="description">DESCRIPTION</h2>

<p>In a workflow employing relatively long lived topic branches, the
developer sometimes needs to resolve the same conflicts over and over
again until the topic branches are done (either merged to the &ldquo;release&rdquo;
branch, or sent out and accepted upstream).</p>

<p>This command assists the developer in this process by recording
conflicted automerge results and corresponding hand resolve results on
the initial manual merge, and applying previously recorded hand
resolutions to their corresponding automerge results.</p>

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><div class="title">
Note
</div></td>
<td>You need to set the configuration variable rerere.enabled in order to enable this command.</td>
</tr>
</tbody>
</table>

<h2 id="commands">COMMANDS</h2>

<p>Normally, <em>git rerere</em> is run without arguments or user-intervention.
However, it has several commands that allow it to interact with its
working state.</p>

<p><em>clear</em><br />
Reset the metadata used by rerere if a merge resolution is to be
aborted. Calling <em>git am [&ndash;skip|&ndash;abort]</em> or <em>git rebase
[&ndash;skip|&ndash;abort]</em> will automatically invoke this command.</p>

<p><em>forget</em> &lt;pathspec&gt;<br />
Reset the conflict resolutions which rerere has recorded for the current
conflict in &lt;pathspec&gt;.</p>

<p><em>diff</em><br />
Display diffs for the current state of the resolution. It is useful for
tracking what has changed while the user is resolving conflicts.
Additional arguments are passed directly to the system <em>diff</em> command
installed in PATH.</p>

<p><em>status</em><br />
Print paths with conflicts whose merge resolution rerere will record.</p>

<p><em>remaining</em><br />
Print paths with conflicts that have not been autoresolved by rerere.
This includes paths whose resolutions cannot be tracked by rerere, such
as conflicting submodules.</p>

<p><em>gc</em><br />
Prune records of conflicted merges that occurred a long time ago. By
default, unresolved conflicts older than 15 days and resolved conflicts
older than 60 days are pruned. These defaults are controlled via the
<code>gc.rerereUnresolved</code> and <code>gc.rerereResolved</code> configuration variables
respectively.</p>

<h2 id="discussion">DISCUSSION</h2>

<p>When your topic branch modifies an overlapping area that your master
branch (or upstream) touched since your topic branch forked from it, you
may want to test it with the latest master, even before your topic
branch is ready to be pushed upstream:</p>

<pre><code>              o---*---o topic
             /
    o---o---o---*---o---o master
</code></pre>

<p>For such a test, you need to merge master and topic somehow. One way to
do it is to pull master into the topic branch:</p>

<pre><code>        $ git checkout topic
        $ git merge master

              o---*---o---+ topic
             /           /
    o---o---o---*---o---o master
</code></pre>

<p>The commits marked with <code>*</code> touch the same area in the same file; you
need to resolve the conflicts when creating the commit marked with <code>+</code>.
Then you can test the result to make sure your work-in-progress still
works with what is in the latest master.</p>

<p>After this test merge, there are two ways to continue your work on the
topic. The easiest is to build on top of the test merge commit <code>+</code>, and
when your work in the topic branch is finally ready, pull the topic
branch into master, and/or ask the upstream to pull from you. By that
time, however, the master or the upstream might have been advanced since
the test merge <code>+</code>, in which case the final commit graph would look like
this:</p>

<pre><code>        $ git checkout topic
        $ git merge master
        $ ... work on both topic and master branches
        $ git checkout master
        $ git merge topic

              o---*---o---+---o---o topic
             /           /         \
    o---o---o---*---o---o---o---o---+ master
</code></pre>

<p>When your topic branch is long-lived, however, your topic branch would
end up having many such &ldquo;Merge from master&rdquo; commits on it, which would
unnecessarily clutter the development history. Readers of the Linux
kernel mailing list may remember that Linus complained about such too
frequent test merges when a subsystem maintainer asked to pull from a
branch full of &ldquo;useless merges&rdquo;.</p>

<p>As an alternative, to keep the topic branch clean of test merges, you
could blow away the test merge, and keep building on top of the tip
before the test merge:</p>

<pre><code>        $ git checkout topic
        $ git merge master
        $ git reset --hard HEAD^ ;# rewind the test merge
        $ ... work on both topic and master branches
        $ git checkout master
        $ git merge topic

              o---*---o-------o---o topic
             /                     \
    o---o---o---*---o---o---o---o---+ master
</code></pre>

<p>This would leave only one merge commit when your topic branch is finally
ready and merged into the master branch. This merge would require you to
resolve the conflict, introduced by the commits marked with <code>*</code>.
However, this conflict is often the same conflict you resolved when you
created the test merge you blew away. <em>git rerere</em> helps you resolve
this final conflicted merge using the information from your earlier hand
resolve.</p>

<p>Running the <em>git rerere</em> command immediately after a conflicted
automerge records the conflicted working tree files, with the usual
conflict markers <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>, <code>=======</code>, and <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> in them. Later,
after you are done resolving the conflicts, running <em>git rerere</em> again
will record the resolved state of these files. Suppose you did this when
you created the test merge of master into the topic branch.</p>

<p>Next time, after seeing the same conflicted automerge, running <em>git
rerere</em> will perform a three-way merge between the earlier conflicted
automerge, the earlier manual resolution, and the current conflicted
automerge. If this three-way merge resolves cleanly, the result is
written out to your working tree file, so you do not have to manually
resolve it. Note that <em>git rerere</em> leaves the index file alone, so you
still need to do the final sanity checks with <code>git               diff</code>
(or <code>git diff -c</code>) and <em>git add</em> when you are satisfied.</p>

<p>As a convenience measure, <em>git merge</em> automatically invokes <em>git rerere</em>
upon exiting with a failed automerge and <em>git rerere</em> records the hand
resolve when it is a new conflict, or reuses the earlier hand resolve
when it is not. <em>git commit</em> also invokes <em>git rerere</em> when committing a
merge result. What this means is that you do not have to do anything
special yourself (besides enabling the rerere.enabled config variable).</p>

<p>In our example, when you do the test merge, the manual resolution is
recorded, and it will be reused when you do the actual merge later with
the updated master and topic branch, as long as the recorded resolution
is still applicable.</p>

<p>The information <em>git rerere</em> records is also used when running <em>git
rebase</em>. After blowing away the test merge and continuing development on
the topic branch:</p>

<pre><code>              o---*---o-------o---o topic
             /
    o---o---o---*---o---o---o---o   master

        $ git rebase master topic

                                  o---*---o-------o---o topic
                                 /
    o---o---o---*---o---o---o---o   master
</code></pre>

<p>you could run <code>git rebase master topic</code>, to bring yourself up-to-date
before your topic is ready to be sent upstream. This would result in
falling back to a three-way merge, and it would conflict the same way as
the test merge you resolved earlier. <em>git rerere</em> will be run by <em>git
rebase</em> to help you resolve this conflict.</p>

<h2 id="git">GIT</h2>

<p>Part of the <a href="../git">git(1)</a> suite</p>

			</div>
			<div class="col-sm-2">
				
<center>
<script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=gitdvcscom" id="_carbonads_js"></script>
</center>


			</div>
		</div>
	</div>
</div>



<a class="bloc-button btn btn-d scrollToTop" onclick="scrollToTarget('1')"><span class="fa fa-chevron-up"></span></a>




<div class="bloc navigation-linksnavigation-links git-background-night bgc-medium-jungle-green d-bloc" id="footer">
	<div class="container bloc-md">
		<div class="row">
			<div class="col-sm-3">
				<h4 class="mg-md">
					Git
				</h4><a href="https://www.gitdvcs.com/documentation/" class="a-btn a-block bloc-mob-center-text">Documentation</a><a href="https://www.gitdvcs.com/how-to/" class="a-btn a-block bloc-mob-center-text">How To</a><a href="https://www.gitdvcs.com/downloads/" class="a-btn a-block bloc-mob-center-text">Downloads</a><a href="https://www.gitdvcs.com/resources/" class="a-btn a-block bloc-mob-center-text">Resources</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					Resources <br>
				</h4><a href="https://www.gitdvcs.com/resources/links/" class="a-btn a-block bloc-mob-center-text">Links</a><a href="https://www.gitdvcs.com/resources/logo/" class="a-btn a-block bloc-mob-center-text">Logo</a><a href="https://www.gitdvcs.com/resources/videos/" class="a-btn a-block bloc-mob-center-text">Videos</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					DVCS<br>
				</h4><a href="https://github.com/dvcs" class="a-btn a-block bloc-mob-center-text">GitHub</a>
			</div>
			<div class="col-sm-3">
				<h4 class="mg-md">
					About<br>
				</h4><a href="https://www.gitdvcs.com/about/" class="a-btn a-block bloc-mob-center-text">About</a>
			</div>
		</div>
	</div>
</div>



<div class="bloc git-background-night bgc-medium-jungle-green" id="copyright">
	<div class="container bloc-sm">
		<div class="row">
			<div class="col-sm-12 text-center">
				<a href="https://www.gitdvcs.com"><img src="https://www.gitdvcs.com/img/git-logo-white.svg" class="img-responsive center-block mg-md" height="38" width="38" /></a>
				<p class="text-center mg-lg">
					<a href="https://github.com/dvcs">2017 DVCS</a><br>
				</p>
			</div>
		</div>
	</div>
</div>


</div>



</body>
</html>
